
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-9c19b03a.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch-18c3ed8e.js"></script>

  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-b382f2ae.png" class="logo" alt="" />
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#endpoints-discount" class="toc-h1 toc-link" data-title="Endpoints - Discount">Endpoints - Discount</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#discounts" class="toc-h2 toc-link" data-title="Discounts">Discounts</a>
                  </li>
                  <li>
                    <a href="#discount" class="toc-h2 toc-link" data-title="Discount">Discount</a>
                  </li>
                  <li>
                    <a href="#campaign-discounts" class="toc-h2 toc-link" data-title="Campaign Discounts">Campaign Discounts</a>
                  </li>
                  <li>
                    <a href="#toggle-favorite" class="toc-h2 toc-link" data-title="Toggle Favorite">Toggle Favorite</a>
                  </li>
                  <li>
                    <a href="#favorites" class="toc-h2 toc-link" data-title="Favorites">Favorites</a>
                  </li>
                  <li>
                    <a href="#event" class="toc-h2 toc-link" data-title="Event">Event</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#endpoints-in-app-shop" class="toc-h1 toc-link" data-title="Endpoints - In-app Shop">Endpoints - In-app Shop</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#products" class="toc-h2 toc-link" data-title="Products">Products</a>
                  </li>
                  <li>
                    <a href="#product" class="toc-h2 toc-link" data-title="Product">Product</a>
                  </li>
                  <li>
                    <a href="#toggle-favorite-2" class="toc-h2 toc-link" data-title="Toggle Favorite">Toggle Favorite</a>
                  </li>
                  <li>
                    <a href="#categories-and-sub-categories" class="toc-h2 toc-link" data-title="Categories and Sub-categories">Categories and Sub-categories</a>
                  </li>
                  <li>
                    <a href="#event-2" class="toc-h2 toc-link" data-title="Event">Event</a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <style>
  .get { 
      background-color: #1E90FF; 
      font-size: 13px; 
      padding: 5px; 
      border-radius: 5px; 
      margin-right: 15px; 
      color: #fff;
  }
  .post {
      background-color: #32CD32; 
      font-size: 13px; 
      padding: 5px; 
      border-radius: 5px; 
      margin-right: 15px; 
      color: #fff;
  }
  .put {
      background-color: #f39200; 
      font-size: 13px; 
      padding: 5px; 
      border-radius: 5px; 
      margin-right: 15px; 
      color: #fff;
  }
</style>
<h1 id='introduction'>Introduction</h1>
<p>Welcome to the ViaAds - ViaBill API documentation.</p>

<p>Production base Url: https://viabill.viaads.dk
<br>
Development base Url: https://dev.viabill.viaads.dk</p>
<h1 id='authentication'>Authentication</h1>
<p>To authenticate your requests to the ViaAds API, you will need to include your API key in the header of each request.</p>

<p><code>ApiKey: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</code></p>

<aside class="notice">
You must replace <code>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</code> with your personal API key.
</aside>
<h1 id='endpoints-discount'>Endpoints - Discount</h1><h2 id='discounts'>Discounts</h2><div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> <span class="s1">'GET'</span> <span class="se">\</span>
  <span class="s1">'https://viabill.viaads.dk/discounts/&lt;email&gt;/&lt;size&gt;/&lt;page&gt;?campaign=QUERY_NAME'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'accept: application/json'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'ApiKey: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'</span>
</code></pre></div>
<blockquote>
<p>JSON response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"lastPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"discounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"src"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"comingSoon"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"favored"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isNew"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expiresSoon"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Retrieve a collection of discounts tailored to the customer&#39;s preferences. 
If a specific campaign is specified in the request, the discounts associated with that campaign will be returned. 
If no campaign is provided, all available discounts are returned. 
Send a GET request to the specified URL with the appropriate parameters to receive 
a JSON response containing pagination information and an array of discount reference objects.
For more details about the object properties, refer to the <a href="#discountpagination-properties">Properties</a> section.</p>
<h3 id='http-request'>HTTP Request</h3>
<h3>
<span class="get">GET</span>/discounts/&lt;email&gt;/&lt;size&gt;/&lt;page&gt;?campaign=QUERY_NAME
</h3>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Email</code></td>
<td>string</td>
<td>The email of the customer making the request.</td>
</tr>
<tr>
<td><code>Size</code></td>
<td>integer</td>
<td>The number of elements to receive per page.</td>
</tr>
<tr>
<td><code>Page</code></td>
<td>integer</td>
<td>The page number to retrieve.</td>
</tr>
</tbody></table>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Campaign</code></td>
<td>string</td>
<td>The name of the campaign associated with the desired discounts.</td>
</tr>
</tbody></table>

<p><b>Note:</b> If no Campaign is provided, all discounts will be returned.</p>

<p><br></p>
<h3 id='discountpagination-properties'>DiscountPagination Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>LastPage</code></td>
<td>integer</td>
<td>The last page of the pagination.</td>
</tr>
<tr>
<td><code>Discounts</code></td>
<td>List&lt;DiscountRef&gt;</td>
<td>A list of discount reference objects.</td>
</tr>
</tbody></table>
<h3 id='discountref-properties'>DiscountRef Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Id</code></td>
<td>long</td>
<td>The unique identifier of the discount.</td>
</tr>
<tr>
<td><code>ImageSrc</code></td>
<td>string</td>
<td>The source for the overview image of the discount.</td>
</tr>
<tr>
<td><code>Title</code></td>
<td>string</td>
<td>The title of the discount.</td>
</tr>
<tr>
<td><code>Subtitle</code></td>
<td>string</td>
<td>The subtitle of the discount.</td>
</tr>
<tr>
<td><code>ComingSoon</code></td>
<td>boolean</td>
<td>Indicates whether the discount is a &quot;Coming Soon&quot; discount. When set to true, it signifies that the discount is currently in a pre-launch or upcoming state, not yet available for use or redemption. This flag allows you to differentiate &quot;Coming Soon&quot; discounts from active ones and build anticipation among customers. When the discount becomes active, the value is set to <code>false</code>, indicating that it is available for use.</td>
</tr>
<tr>
<td><code>Favored</code></td>
<td>boolean</td>
<td>Whether or not the Customer has Favored the Discount.</td>
</tr>
<tr>
<td><code>IsNew</code></td>
<td>boolean</td>
<td>Indicates if the discount has been released recently. A discount is marked as &#39;IsNew&#39; if it has been released within the past 7 days. This helps highlight fresh deals to users.</td>
</tr>
<tr>
<td><code>ExpiresSoon</code></td>
<td>boolean</td>
<td>Indicates if the discount will expire in the near future. A discount is marked as &#39;ExpiresSoon&#39; if it&#39;s set to expire within the next 7 days. This is used to notify or alert users about a deal that&#39;s ending shortly, encouraging them to take action more promptly.</td>
</tr>
</tbody></table>
<h2 id='discount'>Discount</h2>
<p>This endpoint allows you to retrieve detailed information about a discount by its ID. By sending a GET request to the
specified URL with the discount ID and customer email as parameters, a JSON response containing
properties related to the discount will be returned - For more details about the object properties, refer to
the <a href="#discount-properties">Properties</a> section.</p>
<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> <span class="s1">'GET'</span> <span class="se">\</span>
  <span class="s1">'https://viabill.viaads.dk/discounts/&lt;discountId&gt;/&lt;email&gt;'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'accept: application/json'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'ApiKey: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'</span>
</code></pre></div>
<blockquote>
<p>JSON response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bannerImageSrc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expireDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"datetime"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"discountCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"redirectLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"discountType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"comingSoon"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"isSubscribed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"favored"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"isNew"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expiresSoon"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-2'>HTTP Request</h3>
<h3>
<span class="get">GET</span>/discounts/&lt;discountId&gt;/&lt;email&gt;
</h3>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>DiscountId</code></td>
<td>long</td>
<td>The ID of the discount you want to retrieve.</td>
</tr>
<tr>
<td><code>Email</code></td>
<td>string</td>
<td>The email of the customer making the request.</td>
</tr>
</tbody></table>

<p><br></p>
<h3 id='discount-properties'>Discount Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Id</code></td>
<td>long</td>
<td>The unique identifier of the discount.</td>
</tr>
<tr>
<td><code>ImageSrc</code></td>
<td>string</td>
<td>The source for the details image of the discount.</td>
</tr>
<tr>
<td><code>Title</code></td>
<td>string</td>
<td>The title of the discount.</td>
</tr>
<tr>
<td><code>Subtitle</code></td>
<td>string</td>
<td>The subtitle of the discount.</td>
</tr>
<tr>
<td><code>Description</code></td>
<td>string</td>
<td>The description of the discount.</td>
</tr>
<tr>
<td><code>ExpireDate</code></td>
<td>DateTime</td>
<td>The expiration date of the discount. If <code>ComingSoon</code> is <code>true</code>, the value should be ignored and not shown to the user</td>
</tr>
<tr>
<td><code>DiscountType</code></td>
<td>string</td>
<td>The type of Discount. Possible values are <code>Coupon</code> or <code>General</code>. <code>Coupon</code> indicates that there is a discount code to copy and use, while <code>General</code> indicates that the webshop itself is running a percentage sale and no code is necessary.</td>
</tr>
<tr>
<td><code>DiscountCode</code></td>
<td>string?</td>
<td>The discount code associated with the current customer. This value is nullable and only set if the discount type is <code>Coupon</code>. For discounts of type <code>General</code>, no code is necessary as the webshop itself is running a percentage sale. If the <code>DiscountType</code> is <code>General</code> or if <code>ComingSoon</code> is <code>true</code>, this value will be <code>null</code>.</td>
</tr>
<tr>
<td><code>RedirectLink</code></td>
<td>string</td>
<td>The redirect link associated with the discount.</td>
</tr>
<tr>
<td><code>ComingSoon</code></td>
<td>boolean</td>
<td>Indicates whether the discount is a &quot;Coming Soon&quot; discount. When set to true, it signifies that the discount is currently in a pre-launch or upcoming state, not yet available for use or redemption. This flag allows you to differentiate &quot;Coming Soon&quot; discounts from active ones and build anticipation among customers. When the discount becomes active, the value is set to <code>false</code>, indicating that it is available for use.</td>
</tr>
<tr>
<td><code>IsSubscribed</code></td>
<td>boolean</td>
<td>Whether or not the Customer is subscribed to a &quot;Coming Soon&quot; Discount.</td>
</tr>
<tr>
<td><code>Favored</code></td>
<td>boolean</td>
<td>Whether or not the Customer has Favored the Discount.</td>
</tr>
<tr>
<td><code>IsNew</code></td>
<td>boolean</td>
<td>Indicates if the discount has been released recently. A discount is marked as &#39;IsNew&#39; if it has been released within the past 7 days. This helps highlight fresh deals to users.</td>
</tr>
<tr>
<td><code>ExpiresSoon</code></td>
<td>boolean</td>
<td>Indicates if the discount will expire in the near future. A discount is marked as &#39;ExpiresSoon&#39; if it&#39;s set to expire within the next 7 days. This is used to notify or alert users about a deal that&#39;s ending shortly, encouraging them to take action more promptly.</td>
</tr>
</tbody></table>
<h3 id='discounttype-property'>DiscountType Property</h3>
<p>The DiscountType is an enum, which represents the type of discount. It can have the following values:</p>

<ul>
<li><code>Coupon</code>: Indicates a discount that requires a discount code to be used. Customers need to apply the provided discount code during their purchase to obtain the discount.
<br>
<br></li>
<li><code>General</code>: Represents a general discount offered by the webshop itself without the need for a discount code. The discount is automatically applied to eligible items during the checkout process.</li>
</ul>
<h2 id='campaign-discounts'>Campaign Discounts</h2><div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> <span class="s1">'GET'</span> <span class="se">\</span>
  <span class="s1">'https://viabill.viaads.dk/discounts/campaign'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'accept: application/json'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'ApiKey: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'</span>
</code></pre></div>
<blockquote>
<p>JSON response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"campaign"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bannerImageUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/image.jpg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"queryName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BLACK_FRIDAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"titleEn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Black Friday Deals"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"titleDa"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Black Friday Tilbud"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint is used to retrieve details about the active campaign associated with discounts. 
By sending a GET request to the specified URL, a JSON response containing details of the campaign will be returned.
If no active campaign is found, a 404 NOT FOUND error will be returned.
For more details about the object properties, refer to the <a href="#discountpagination-properties">Properties</a> section.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<h3>
<span class="get">GET</span>/discounts/campaign
</h3>
<h3 id='campaign-properties'>Campaign Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>BannerImageUrl</code></td>
<td>string</td>
<td>The URL for the banner image associated with the campaign.</td>
</tr>
<tr>
<td><code>QueryName</code></td>
<td>string</td>
<td>The name used in the query to filter for this specific campaign.</td>
</tr>
<tr>
<td><code>TitleEn</code></td>
<td>string</td>
<td>The English version of the title associated with the campaign.</td>
</tr>
<tr>
<td><code>TitleDa</code></td>
<td>string</td>
<td>The Danish version of the title associated with the campaign.</td>
</tr>
</tbody></table>

<blockquote>
<p>JSON response example for HTTP 404 Not Found due to No Active Campaign:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not Found"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No Active Campaign"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h3 id='handling-errors'>Handling Errors</h3>
<ul>
<li>If no active Discount Campaign is found, the server will return an HTTP 404 Not Found along with an error message.</li>
</ul>
<h2 id='toggle-favorite'>Toggle Favorite</h2>
<p>This endpoint allows users to toggle the &quot;Favored&quot; status of a specific discount,
either marking it as a favorite or removing it from their favorites.
By sending a PUT request to the specified URL, the discount&#39;s &quot;Favored&quot; status will be updated based on its current value.
For more details about the request body, refer to the <a href="#request-body-1">Request Body</a> section.</p>
<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> <span class="s1">'PUT'</span> <span class="se">\</span>
  <span class="s1">'https://viabill.viaads.dk/discounts/toggle-favorite'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'accept: application/json'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'ApiKey: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "discountId": 0,
    "Email": "string",
    "Favored": true
  }'</span>

</code></pre></div>
<blockquote>
<p>JSON response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successfully toggled favorite status"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-4'>HTTP Request</h3>
<h3>
<span class="put">PUT</span>/discounts/toggle-favorite
</h3>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>DiscountId</code></td>
<td>long</td>
<td>The unique identifier of the discount whose &quot;Favored&quot; status has been toggled.</td>
</tr>
<tr>
<td><code>Email</code></td>
<td>string</td>
<td>The email of the customer making the request. This determines who&#39;s favouring the item in context.</td>
</tr>
<tr>
<td><code>Favored</code></td>
<td>boolean</td>
<td>The updated &quot;Favored&quot; status of the discount. True if the discount is now a favorite, false otherwise.</td>
</tr>
</tbody></table>

<p><b>Note:</b> If the discount was previously marked as &quot;Favored&quot;, it will be toggled to not favored, and vice versa. Ensure that the user is authorized to perform this action before making the request.</p>

<blockquote>
<p>JSON response example for HTTP 400 Bad Request due to Incorrect DiscountId:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bad Request"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid discountId provided."</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>JSON response example for HTTP 400 Bad Request due to Incorrect Email:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bad Request"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid email provided."</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h3 id='handling-errors-2'>Handling Errors</h3>
<ul>
<li>If an incorrect <code>discountId</code> is provided in the request, the server will return an HTTP 400 Bad Request along with an error message.</li>
<li>If an incorrect <code>email</code> is provided in the request, the server will return an HTTP 400 Bad Request along with an error message.</li>
</ul>
<h2 id='favorites'>Favorites</h2><div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> <span class="s1">'GET'</span> <span class="se">\</span>
  <span class="s1">'https://viabill.viaads.dk/discounts/&lt;email&gt;/favorites/&lt;size&gt;/&lt;page&gt;'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'accept: application/json'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'ApiKey: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'</span>
</code></pre></div>
<blockquote>
<p>JSON response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"lastPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"discounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"src"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"comingSoon"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"favored"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isNew"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expiresSoon"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint is used to retrieve a collection of discounts which the customer has chosen to favor. 
By sending a GET request to the specified URL with the appropriate parameters, a JSON response containing pagination
information and an array of favored discount reference objects will be returned.
For more details about the object properties, refer to the <a href="#discountpagination-properties">Properties</a> section.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<h3>
<span class="get">GET</span>/discounts/&lt;email&gt;/favorites/&lt;size&gt;/&lt;page&gt;
</h3>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Email</code></td>
<td>string</td>
<td>The email of the customer making the request.</td>
</tr>
<tr>
<td><code>Size</code></td>
<td>integer</td>
<td>The number of elements to receive per page.</td>
</tr>
<tr>
<td><code>Page</code></td>
<td>integer</td>
<td>The page number to retrieve.</td>
</tr>
</tbody></table>

<p><br></p>

<blockquote>
<p>JSON response example for No Favorites:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>JSON response example for HTTP 404 Not Found:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not Found"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid email provided."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='handling-errors-3'>Handling Errors</h3>
<ul>
<li>If the customer does not have any favored discounts, an empty list will be returned.</li>
<li>If an invalid <code>email</code> is provided, a HTTP 404 Not Found will be returned.</li>
</ul>
<h2 id='event'>Event</h2>
<p>This endpoint is used for pushing discount events to track customer behavior.</p>
<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> <span class="s1">'POST'</span> <span class="se">\</span>
  <span class="s1">'https://viabill.viaads.dk/discounts/event'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'accept: application/json'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'ApiKey: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
  "discountId": 0,
  "customerEmail": "string",
  "eventType": "string",
  "eventDate": "2023-06-14T10:35:34.377Z"
}'</span>
</code></pre></div>
<blockquote>
<p>JSON response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successfully added the event"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-6'>HTTP Request</h3>
<h3>
<span class="post">POST</span>/discounts/event
</h3>
<h3 id='request-body-2'>Request Body</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>DiscountId</code></td>
<td>long</td>
<td>The ID of the discount for which the event occurred.</td>
</tr>
<tr>
<td><code>CustomerEmail</code></td>
<td>string</td>
<td>The email of the customer associated with the event.</td>
</tr>
<tr>
<td><code>EventType</code></td>
<td>string</td>
<td>The type of event. Possible values are:</td>
</tr>
<tr>
<td></td>
<td></td>
<td>- <code>discount_details_viewed</code>: Indicates the event where the customer has viewed the details of the discount.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>- <code>discount_link_opened</code>: Represents the event where the customer has opened the discount link.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>- <code>discount_code_copied</code>: Signifies the event where the customer has copied the discount code.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>- <code>discount_favorised</code>: Signifies the event where the customer has favored the discount.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>- <code>discount_unfavorised</code>: Signifies the event where the customer has unfavored the discount.</td>
</tr>
<tr>
<td><code>EventDate</code></td>
<td>string</td>
<td>The date and time of the event in ISO 8601 format.</td>
</tr>
</tbody></table>
<h3 id='eventtype-property'>EventType Property:</h3>
<p>Each <code>EventType</code> indicates a specific customer behavior action related to the discount. The following event types is supported:</p>

<ul>
<li><code>discount_details_viewed</code>: Indicates that the customer has viewed the details of the discount. This event is triggered when the customer accesses or interacts with the specific discount to learn more about its details, such as the title, description, or expiration date. <br></li>
<li><code>discount_link_opened</code>: Represents an event where the customer has opened the discount link. This event is triggered when the customer clicks on the provided link associated with the discount, redirecting them to a specific webpage or destination related to the discount offer.<br></li>
<li><code>discount_code_copied</code>: Signifies that the customer has copied the discount code. This event occurs when the customer selects and copies the discount code provided, typically for later use during the checkout process or when manually entering the code on a website or application. <br></li>
<li><code>discount_favorised</code>:  Indicates that the customer has added the discount to their favorites. This event is triggered when the customer shows interest in revisiting or keeping track of the discount by marking it as a favorite. <br></li>
<li><code>discount_unfavorised</code>: Represents the action where the customer has removed the discount from their favorites. This event occurs when the customer decides they are no longer interested in tracking or revisiting the discount and therefore removes it from their favorites. <br></li>
</ul>

<p><br></p>

<p>The response of this endpoint will contain a status code and a message indicating the success or failure of the event
submission.</p>

<blockquote>
<p>JSON response example for HTTP 400 Bad Request due to Incorrect EventType:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bad Request"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid EventType provided."</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h3 id='handling-errors-4'>Handling Errors</h3>
<ul>
<li>If an incorrect <code>EventType</code> is provided in the request, the server will return an HTTP 400 Bad Request along with an error message.</li>
</ul>
<h1 id='endpoints-in-app-shop'>Endpoints - In-app Shop</h1><h2 id='products'>Products</h2><div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> <span class="s1">'GET'</span> <span class="se">\</span>
<<<<<<< Updated upstream
  <span class="s1">'https://viabill.viaads.dk/shop/v1/products/&lt;email&gt;/&lt;size&gt;/&lt;page&gt;?search=&lt;UrlEncodedSearchString&gt;'</span> <span class="se">\</span>
=======
  <span class="s1">'https://viabill.viaads.dk/shop/v1/products/&lt;email&gt;/&lt;size&gt;/&lt;page&gt;?search=&lt;UrlEncodedSearchString&gt;&amp;category=&amp;lt;UrlEncodedCategory&amp;gt;&amp;bestsellers=&amp;lt;boolean&amp;gt;'</span> <span class="se">\</span>
>>>>>>> Stashed changes
  <span class="nt">-H</span> <span class="s1">'accept: application/json'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'ApiKey: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'</span>
</code></pre></div>
<blockquote>
<p>Example Responses:</p>

<p>JSON response example for Successful Product Retrieval:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"lastPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"products"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"src"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"normalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
      </span><span class="nl">"salePrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
      </span><span class="nl">"onSale"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bestSeller"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"favored"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"includesVariants"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint is used to retrieve a collection of products based on category and pagination parameters.
By sending a GET request to the specified URL with the appropriate parameters, a JSON response containing pagination
information and an array of product reference objects will be returned. 
If no results match the search criteria (either because of a page number too high, a search query that doesn&#39;t match anything, or an inexistent email), 
an empty list of products will be returned. If an incorrect category slug is used, an HTTP 400 Bad Request will be returned.
For more details about the object properties, 
refer to the <a href="#productpagination-properties">Properties</a> section.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<h3>
<span class="get">GET</span>/shop/v1/products/&lt;email&gt;/&lt;size&gt;/&lt;page&gt;?search=&lt;UrlEncodedSearchString&gt;&category=&lt;UrlEncodedCategory&gt;&bestsellers=&lt;boolean&gt;
</h3>
<h3 id='url-parameters-4'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Email</code></td>
<td>string</td>
<td>The email of the customer making the request.</td>
</tr>
<tr>
<td><code>Size</code></td>
<td>integer</td>
<td>The number of elements to receive per page.</td>
</tr>
<tr>
<td><code>Page</code></td>
<td>integer</td>
<td>The page number to retrieve.</td>
</tr>
</tbody></table>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Search</code> (URL Encoded)</td>
<td>string</td>
<td>(Optional) URL-encoded search string to filter the products.</td>
</tr>
<tr>
<td><code>Category</code> (URL Encoded)</td>
<td>string</td>
<td>(Optional) The current selected category/sub-category, including Recommended and Favorites - See <a href="#category-parameter">Category Parameter</a> for more details.</td>
</tr>
<tr>
<td><code>BestSellers</code></td>
<td>bool</td>
<td>(Optional) Filter by BestSellers Only.</td>
</tr>
</tbody></table>

<p><b>Note:</b> The string query parameters must be URL-encoded to ensure that any special characters within the search string do not interfere with the URL.</p>
<h3 id='category-parameter'>Category Parameter:</h3>
<p>The <code>Category</code> parameter indicates the currently selected category or sub-category. Supported values include:</p>

<ul>
<li><code>Recommended</code>: Selected when the customer chooses the <code>Anbefalet</code> tab in the Categories list. This returns products most relevant to the customer<br></li>
<li><code>Favorites</code>: Chosen when the customer selects the <code>Favoritter</code> tab. This returned the products the customer has marked as favorites.<br></li>
<li>Main Category (e.g., <code>Gaming</code>): When the customer selects a primary category like <code>Gaming</code>, products within this category are returned.<br></li>
<li>Sub-Category (e.g., <code>Spille konsoller</code>): If a sub-category within a main category like <code>Gaming</code> is chosen, products within this sub-category are returned.<br></li>
</ul>

<p><br></p>
<h3 id='productpagination-properties'>ProductPagination Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>LastPage</code></td>
<td>integer</td>
<td>The last page of the pagination.</td>
</tr>
<tr>
<td><code>Products</code></td>
<td>List&lt;ProductRef&gt;</td>
<td>A list of product reference objects.</td>
</tr>
</tbody></table>
<h3 id='productref-properties'>ProductRef Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Id</code></td>
<td>string</td>
<td>The unique identifier of the product.</td>
</tr>
<tr>
<td><code>ImageSrc</code></td>
<td>string</td>
<td>The source for the overview image of the product.</td>
</tr>
<tr>
<td><code>Name</code></td>
<td>string</td>
<td>The name of the product.</td>
</tr>
<tr>
<td><code>NormalPrice</code></td>
<td>decimal</td>
<td>The normal price of the product.</td>
</tr>
<tr>
<td><code>SalePrice</code></td>
<td>decimal</td>
<td>The sale price of the product.</td>
</tr>
<tr>
<td><code>OnSale</code></td>
<td>boolean</td>
<td>Indicates whether the product is currently on sale.</td>
</tr>
<tr>
<td><code>BestSeller</code></td>
<td>boolean</td>
<td>Indicates whether the product is valued to be a best seller product and therefore should be highlighted as such.</td>
</tr>
<tr>
<td><code>Favored</code></td>
<td>boolean</td>
<td>Indicates whether the customer has favored the product.</td>
</tr>
<tr>
<td><code>IncludesVariants</code></td>
<td>boolean</td>
<td>Indicates whether the product includes variants e.g. color or size.</td>
</tr>
</tbody></table>

<blockquote>
<p>JSON response example for No Matching Product:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"lastPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"products"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>JSON response example for HTTP 400 Bad Request due to Incorrect Category Slug:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bad Request"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid category slug provided."</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h3 id='handling-errors-5'>Handling Errors</h3>
<ul>
<li>If no products match the given parameters (either due to a high page number, a non-matching search query, or an inexistent email), the response will return an empty product list.</li>
<li>If an incorrect category slug is provided in the request, the server will return an HTTP 400 Bad Request along with an error message.</li>
</ul>
<h2 id='product'>Product</h2>
<p>This endpoint provides detailed information about a specific product based on its unique identifier. 
By sending a GET request to the specified URL with the appropriate parameters, a JSON response containing 
comprehensive product details will be returned. 
For more details about the object properties, refer to the <a href="#product-properties">Properties</a> section.</p>
<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> <span class="s1">'GET'</span> <span class="se">\</span>
  <span class="s1">'https://viabill.viaads.dk/shop/v1/products/&lt;productId&gt;/&lt;email&gt;'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'accept: application/json'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'ApiKey: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'</span>
</code></pre></div>
<blockquote>
<p>JSON response example for Successful Product Retrieval:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"productImages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"normalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
  </span><span class="nl">"salePrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
  </span><span class="nl">"merchantLogoSrc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"redirectLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"onSale"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"favored"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"includesVariants"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-8'>HTTP Request</h3>
<h3>
<span class="get">GET</span>/shop/v1/products/&lt;productId&gt;/&lt;email&gt;
</h3>
<h3 id='url-parameters-5'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>ProductId</code></td>
<td>string</td>
<td>The Unique Identifier of the product to be returned.</td>
</tr>
<tr>
<td><code>Email</code></td>
<td>string</td>
<td>The email of the customer making the request.</td>
</tr>
</tbody></table>

<p><br></p>
<h3 id='product-properties'>Product Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Id</code></td>
<td>string</td>
<td>The unique identifier of the product.</td>
</tr>
<tr>
<td><code>ProductImages</code></td>
<td>List<string></td>
<td>A list of URLs representing images for the product.</td>
</tr>
<tr>
<td><code>Name</code></td>
<td>string</td>
<td>The name of the product.</td>
</tr>
<tr>
<td><code>NormalPrice</code></td>
<td>decimal</td>
<td>The regular price of the product.</td>
</tr>
<tr>
<td><code>SalePrice</code></td>
<td>decimal</td>
<td>The discounted price of the product if it&#39;s on sale.</td>
</tr>
<tr>
<td><code>MerchantLogoSrc</code></td>
<td>string</td>
<td>The URL for the merchant&#39;s logo.</td>
</tr>
<tr>
<td><code>RedirectLink</code></td>
<td>string</td>
<td>The direct link to the product on the merchant&#39;s website.</td>
</tr>
<tr>
<td><code>OnSale</code></td>
<td>boolean</td>
<td>Indicates whether the product is currently on sale.</td>
</tr>
<tr>
<td><code>Favored</code></td>
<td>boolean</td>
<td>Indicates if the customer has favored the product.</td>
</tr>
<tr>
<td><code>IncludesVariants</code></td>
<td>boolean</td>
<td>Indicates if the product has various options e.g. size, color.</td>
</tr>
</tbody></table>

<blockquote>
<p>JSON response example for HTTP 404 Not Found:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not Found"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid productId provided."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>JSON response example for HTTP 404 Not Found:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not Found"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid email provided."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='handling-errors-6'>Handling Errors</h3>
<ul>
<li>If an invalid <code>productId</code> or <code>email</code> is provided, a HTTP 404 Not Found will be returned.</li>
</ul>
<h2 id='toggle-favorite-2'>Toggle Favorite</h2>
<p>This endpoint allows users to toggle the &quot;Favored&quot; status of a specific product, 
either marking it as a favorite or removing it from their favorites. 
By sending a PUT request to the specified URL, the product&#39;s &quot;Favored&quot; status will be updated based on its current value.
For more details about the request body, refer to the <a href="#request-body-3">Request Body</a> section.</p>
<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> <span class="s1">'PUT'</span> <span class="se">\</span>
  <span class="s1">'https://viabill.viaads.dk/shop/v1/products/toggle-favorite'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'accept: application/json'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'ApiKey: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "productId": "string",
    "Email": "string",
    "Favored": true
  }'</span>

</code></pre></div>
<blockquote>
<p>JSON response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"productId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"favored"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-9'>HTTP Request</h3>
<h3>
<span class="put">PUT</span>/shop/v1/products/toggle-favorite
</h3>
<h3 id='request-body-3'>Request Body</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>ProductId</code></td>
<td>string</td>
<td>The unique identifier of the product whose &quot;Favored&quot; status has been toggled.</td>
</tr>
<tr>
<td><code>Email</code></td>
<td>string</td>
<td>The email of the customer making the request. This determines who&#39;s favouring the item in context.</td>
</tr>
<tr>
<td><code>Favored</code></td>
<td>boolean</td>
<td>The updated &quot;Favored&quot; status of the product. True if the product is now a favorite, false otherwise.</td>
</tr>
</tbody></table>
<h2 id='categories-and-sub-categories'>Categories and Sub-categories</h2>
<p>This endpoint is used to retrieve a list of main categories or their associated sub-categories. 
By sending a GET request to the specified URL with the optional parentId parameter, a JSON response containing 
either a list of main categories or their sub-categories will be returned, based on the presence of the parentId.
For more details about the object properties, refer to the <a href="#category-properties">Properties</a> section.</p>
<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> <span class="s1">'GET'</span> <span class="se">\</span>
  <span class="s1">'https://viabill.viaads.dk/shop/v1/categories/&lt;ParentId&gt;'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'accept: application/json'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'ApiKey: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'</span>
</code></pre></div>
<blockquote>
<p>JSON response example for main categories:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"imageSrc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>JSON response example for sub-categories:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"parentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"imageSrc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h3 id='http-request-10'>HTTP Request</h3>
<h3>
<span class="get">GET</span>/shop/v1/categories/&lt;parentId&gt;
</h3>
<h3 id='url-parameters-6'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>ParentId</code></td>
<td>int</td>
<td>(Optional) The unique identifier of the main category. If provided, its associated sub-categories will be returned. If omitted, all main categories will be returned.</td>
</tr>
</tbody></table>

<p><br></p>
<h3 id='category-properties'>Category Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Id</code></td>
<td>int</td>
<td>The unique identifier of the category or sub-category.</td>
</tr>
<tr>
<td><code>ParentId</code></td>
<td>int</td>
<td>(Only for sub-categories) The unique identifier of the associated main category.</td>
</tr>
<tr>
<td><code>Name</code></td>
<td>string</td>
<td>The name of the category or sub-category.</td>
</tr>
<tr>
<td><code>ImageSrc</code></td>
<td>string</td>
<td>The source for the category or sub-category image.</td>
</tr>
</tbody></table>

<p><b>Note: </b> If no ParentId is provided in the request, the endpoint will return a list of main categories. If a ParentId is provided, the endpoint will return the sub-categories associated with that main category.</p>

<blockquote>
<p>JSON response example for No Sub-categories:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>JSON response example for HTTP 404 Not Found:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not Found"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid parentId provided."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='handling-errors-7'>Handling Errors</h3>
<ul>
<li>If the provided <code>parentId</code> does not contain any sub-categories, an empty list will be returned.</li>
<li>If an invalid <code>parentId</code> is provided, a HTTP 404 Not Found will be returned.</li>
</ul>
<h2 id='event-2'>Event</h2>
<p>This endpoint is used for pushing shop events to track customer behavior.</p>
<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-X</span> <span class="s1">'POST'</span> <span class="se">\</span>
  <span class="s1">'https://viabill.viaads.dk/shop/v1/event'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'accept: application/json'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'ApiKey: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "productId": 0,
    "customerEmail": "string",
    "eventType": "string",
    "eventDate": "2023-06-14T10:35:34.377Z"
  }'</span>
</code></pre></div>
<blockquote>
<p>JSON response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successfully added the event"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-11'>HTTP Request</h3>
<h3>
<span class="post">POST</span>/shop/v1/event
</h3>
<h3 id='request-body-4'>Request Body</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>ProductId</code></td>
<td>string</td>
<td>(Optional) The Unique Identifier of the product related to the event.</td>
</tr>
<tr>
<td><code>CustomerEmail</code></td>
<td>string</td>
<td>The email of the customer associated with the event.</td>
</tr>
<tr>
<td><code>EventType</code></td>
<td>string</td>
<td>The type of event, which can be any of the following values:</td>
</tr>
<tr>
<td></td>
<td></td>
<td>- <code>product_viewed</code>:  When a customer views a product&#39;s details.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>- <code>product_favorised</code>: When a customer favors a product.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>- <code>product_unfavorised</code>: When a customer un-favors a product.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>- <code>product_searched</code>:  When a customer searches for a product.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>- <code>product_redirect</code>:  When a customer gets redirected</td>
</tr>
<tr>
<td><code>EventDate</code></td>
<td>string</td>
<td>The date and time of the event in ISO 8601 format.</td>
</tr>
</tbody></table>

<p><b>Note:</b> The ProductId is optional for events that are not directly related to a specific product, such as general searches or app-wide actions. However, for product-specific actions like viewing or favoriting, it&#39;s recommended to include the ProductId.</p>
<h3 id='eventtype-property-2'>EventType Property:</h3>
<p>The <code>EventType</code> property describes specific actions that customers might undertake in the in-app shop:</p>

<ul>
<li><code>product_viewed</code>: Triggered when the customer views the details of a product. <br></li>
<li><code>product_favorised</code>: Triggered when a customer adds a product to their <code>Favorites</code>. <br></li>
<li><code>product_unfavorised</code>: Triggered when a customer removes a product to their <code>Favorites</code>. <br></li>
<li><code>product_searched</code>: Triggered when a customer searches for a product. <br></li>
<li><code>product_redirect</code>: Triggered when a customer uses an in-app link or button to be redirected to the respective webshop associated with the product. <br></li>
</ul>

<p><br></p>

<p>The response of this endpoint will provide a status code and a message that indicates the success or failure of the event submission.</p>

<blockquote>
<p>JSON response example for HTTP 400 Bad Request due to Incorrect EventType:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid EventType provided."</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h3 id='handling-errors-8'>Handling Errors</h3>
<ul>
<li>If an incorrect <code>EventType</code> is provided in the request, the server will return an HTTP 400 Bad Request along with an error message.</li>
</ul>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
